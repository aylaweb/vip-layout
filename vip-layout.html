<!--
Copyright (c) 2016 The Ayla Project Authors.
This code may only be used under the MIT style license found at http://aylaweb.github.io/LICENSE.txt
The complete set of authors may be found at http://aylaweb.github.io/AUTHORS.txt
The complete set of contributors may be found at http://aylaweb.github.io/CONTRIBUTORS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../vip-section/vip-section.html">

<dom-module id="vip-layout">
    <style>
        section {flex: 1 1 0px;}
    </style>
    <template>
        <template is="dom-repeat" items="{{layout}}">
            <section style-props="{{item.styleProps}}" container="{{item.container}}" id="{{item.name}}" is="vip-section" appname$="{{item.name}}" name="{{item.name}}">
                     <vip-layout id="{{_computeId(item.name)}}" layout="{{item.children}}" hidden></vip-layout>
            </section>
        </template> 
    </template>
    <script>
        Polymer({
            is: 'vip-layout',
            hostAttributes: {
                hidden: {
                    type: Boolean,
                    value: true
                }
            },
            properties: {
                layout: {
                    type: Array,
                    value: function () {
                        return [];
                    },
                    observer: '_layoutChanged'
                }
            },
            _computeId: function (name) {
                return("layout" + name);
            },         
        /*    _computeClasses: function (classes) {
                return("layout horizontal "+ classes);
            },    */      
            created: function () {
                console.log(this.id + " -> vip-layout -> Event created");
            },
            attached: function () {
                console.log(this.id + " -> vip-layout -> Event attached");
            },
            ready: function () {
                console.log(this.id + " -> vip-layout -> Event ready");
            },
            _layoutChanged: function (val, old) {
            },
            detached: function () {
                console.log(this.id + " -> vip-layout -> Event detached");
            }
        });
    </script>
</dom-module>